import{m as Re,a as Ae,u as Be,b as Me,c as Ne}from"./filter-aoS-4HiX.js";import{g as Le,h as Ee,V as ue}from"./VTextField-DIITHEzW.js";import{J as Y,ak as ve,Q as Z,T as Oe,r as U,D,ag as J,j as w,U as Ue,s as W,a7 as le,aR as He,X as ee,b as l,F as Q,$ as H,V as se,aS as Ke,aq as $,H as Ge,aT as We,af as $e,aU as ie,L as de,O as me,ay as qe,aA as ze,N as fe,P as ge,R as Xe,B as je,aD as Je,aF as Qe,S as be,aC as he,aV as Ye,aW as Ze,aw as j,M as et,aB as tt,aL as at,W as lt,aG as nt,aM as ot,G as ut,aX as st,aY as it,aO as rt,a8 as ct}from"./main-DWzSGLDg.js";import{f as ye}from"./forwardRefs-C-GTDzx5.js";import{u as vt,V as dt,a as mt,b as re,e as ft}from"./VChip-BbvAIK9t.js";import{m as gt,V as bt}from"./VImg-Ttsvm1tB.js";import{c as ht}from"./VCheckboxBtn-QFCPAyWT.js";import{b as yt}from"./index-IWcxIBUF.js";import{m as Vt,u as kt,V as ce}from"./VOverlay-CAy-4T_m.js";function xt(e,r,t){if(r==null)return e;if(Array.isArray(r))throw new Error("Multiple matches is not implemented");return typeof r=="number"&&~r?l(Q,null,[l("span",{class:"v-autocomplete__unmask"},[e.substr(0,r)]),l("span",{class:"v-autocomplete__mask"},[e.substr(r,t)]),l("span",{class:"v-autocomplete__unmask"},[e.substr(r+t)])]):e}const St=Y({autoSelectFirst:{type:[Boolean,String]},search:String,...Re({filterKeys:["title"]}),...Ae(),...ve(Le({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...gt({transition:!1})},"VAutocomplete"),Et=Z()({name:"VAutocomplete",props:St(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:t}=r;const{t:c}=Oe(),d=U(),b=D(!1),g=D(!0),C=D(!1),T=U(),I=U(),V=J(e,"menu"),i=w({get:()=>V.value,set:a=>{var u;V.value&&!a&&((u=T.value)!=null&&u.Î¨openChildren)||(V.value=a)}}),o=D(-1),R=w(()=>{var a;return(a=d.value)==null?void 0:a.color}),A=w(()=>i.value?e.closeText:e.openText),{items:P,transformIn:F,transformOut:p}=vt(e),{textColorClasses:L,textColorStyles:E}=Ue(R),v=J(e,"search",""),n=J(e,"modelValue",[],a=>F(a===null?[null]:$e(a)),a=>{const u=p(a);return e.multiple?u:u[0]??null}),K=w(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:n.value.length),k=Ee(),{filteredItems:O,getMatches:Ve}=Be(e,P,()=>g.value?"":v.value),_=w(()=>e.hideSelected?O.value.filter(a=>!n.value.some(u=>u.value===a.value)):O.value),ke=w(()=>n.value.map(a=>a.props.value)),q=w(()=>{var u;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&v.value===((u=_.value[0])==null?void 0:u.title))&&_.value.length>0&&!g.value&&!C.value}),te=w(()=>e.hideNoData&&!P.value.length||e.readonly||(k==null?void 0:k.isReadonly.value)),ae=U(),{onListScroll:xe,onListKeydown:Se}=Me(ae,d);function Ce(a){e.openOnClear&&(i.value=!0),v.value=""}function we(){te.value||(i.value=!0)}function Te(a){te.value||(b.value&&(a.preventDefault(),a.stopPropagation()),i.value=!i.value)}function Pe(a){var x,s,h;if(e.readonly||k!=null&&k.isReadonly.value)return;const u=d.value.selectionStart,f=n.value.length;if((o.value>-1||["Enter","ArrowDown","ArrowUp"].includes(a.key))&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(i.value=!0),["Escape"].includes(a.key)&&(i.value=!1),q.value&&["Enter","Tab"].includes(a.key)&&B(_.value[0]),a.key==="ArrowDown"&&q.value&&((x=ae.value)==null||x.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(a.key)){if(o.value<0){a.key==="Backspace"&&!v.value&&(o.value=f-1);return}const m=o.value,S=n.value[o.value];S&&!S.props.disabled&&B(S),o.value=m>=f-1?f-2:m}if(a.key==="ArrowLeft"){if(o.value<0&&u>0)return;const m=o.value>-1?o.value-1:f-1;n.value[m]?o.value=m:(o.value=-1,d.value.setSelectionRange((s=v.value)==null?void 0:s.length,(h=v.value)==null?void 0:h.length))}if(a.key==="ArrowRight"){if(o.value<0)return;const m=o.value+1;n.value[m]?o.value=m:(o.value=-1,d.value.setSelectionRange(0,0))}}}function pe(a){if(ie(d.value,":autofill")||ie(d.value,":-webkit-autofill")){const u=P.value.find(f=>f.title===a.target.value);u&&B(u)}}function _e(){var a;b.value&&(g.value=!0,(a=d.value)==null||a.focus())}function Ie(a){b.value=!0,setTimeout(()=>{C.value=!0})}function Fe(a){C.value=!1}function De(a){(a==null||a===""&&!e.multiple)&&(n.value=[])}const G=D(!1);function B(a){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!a.props.disabled)if(e.multiple){const f=n.value.findIndex(x=>e.valueComparator(x.value,a.value));if(f===-1)n.value=[...n.value,a];else{const x=[...n.value];x.splice(f,1),n.value=x}}else n.value=u?[a]:[],G.value=!0,v.value=u?a.title:"",i.value=!1,g.value=!0,le(()=>G.value=!1)}return W(b,(a,u)=>{var f;a!==u&&(a?(G.value=!0,v.value=e.multiple?"":String(((f=n.value.at(-1))==null?void 0:f.props.title)??""),g.value=!0,le(()=>G.value=!1)):(!e.multiple&&v.value==null?n.value=[]:q.value&&!C.value&&!n.value.some(x=>{let{value:s}=x;return s===_.value[0].value})&&B(_.value[0]),i.value=!1,v.value="",o.value=-1))}),W(v,a=>{!b.value||G.value||(a&&(i.value=!0),g.value=!a)}),W(i,()=>{if(!e.hideSelected&&i.value&&n.value.length){const a=_.value.findIndex(u=>n.value.some(f=>u.value===f.value));He&&window.requestAnimationFrame(()=>{var u;a>=0&&((u=I.value)==null||u.scrollToIndex(a))})}}),ee(()=>{const a=!!(e.chips||t.chip),u=!!(!e.hideNoData||_.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),f=n.value.length>0,x=ue.filterProps(e);return l(ue,H({ref:d},x,{modelValue:v.value,"onUpdate:modelValue":[s=>v.value=s,De],focused:b.value,"onUpdate:focused":s=>b.value=s,validationValue:n.externalValue,counterValue:K.value,dirty:f,onChange:pe,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":i.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!t.selection,"v-autocomplete--selecting-index":o.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:f?void 0:e.placeholder,"onClick:clear":Ce,"onMousedown:control":we,onKeydown:Pe}),{...t,default:()=>l(Q,null,[l(dt,H({ref:T,modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,activator:"parent",contentClass:"v-autocomplete__content",disabled:te.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:_e},e.menuProps),{default:()=>[u&&l(mt,{ref:ae,selected:ke.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:s=>s.preventDefault(),onKeydown:Se,onFocusin:Ie,onFocusout:Fe,onScrollPassive:xe,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var s,h,m;return[(s=t["prepend-item"])==null?void 0:s.call(t),!_.value.length&&!e.hideNoData&&(((h=t["no-data"])==null?void 0:h.call(t))??l(re,{title:c(e.noDataText)},null)),l(Ne,{ref:I,renderless:!0,items:_.value},{default:S=>{var oe;let{item:y,index:M,itemRef:N}=S;const ne=H(y.props,{ref:N,key:M,active:q.value&&M===0?!0:void 0,onClick:()=>B(y)});return((oe=t.item)==null?void 0:oe.call(t,{item:y,index:M,props:ne}))??l(re,ne,{prepend:z=>{let{isSelected:X}=z;return l(Q,null,[e.multiple&&!e.hideSelected?l(ht,{key:y.value,modelValue:X,ripple:!1,tabindex:"-1"},null):void 0,y.props.prependIcon&&l(se,{icon:y.props.prependIcon},null)])},title:()=>{var z,X;return g.value?y.title:xt(y.title,(z=Ve(y))==null?void 0:z.title,((X=v.value)==null?void 0:X.length)??0)}})}}),(m=t["append-item"])==null?void 0:m.call(t)]}})]}),n.value.map((s,h)=>{function m(N){N.stopPropagation(),N.preventDefault(),B(s,!1)}const S={"onClick:close":m,onMousedown(N){N.preventDefault(),N.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},y=a?!!t.chip:!!t.selection,M=y?Ke(a?t.chip({item:s,index:h,props:S}):t.selection({item:s,index:h})):void 0;if(!(y&&!M))return l("div",{key:s.value,class:["v-autocomplete__selection",h===o.value&&["v-autocomplete__selection--selected",L.value]],style:h===o.value?E.value:{}},[a?t.chip?l($,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:s.title}}},{default:()=>[M]}):l(ft,H({key:"chip",closable:e.closableChips,size:"small",text:s.title,disabled:s.props.disabled},S),null):M??l("span",{class:"v-autocomplete__selection-text"},[s.title,e.multiple&&h<n.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[Ge(",")])])])})]),"append-inner":function(){var S;for(var s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return l(Q,null,[(S=t["append-inner"])==null?void 0:S.call(t,...h),e.menuIcon?l(se,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Te,onClick:We,"aria-label":c(A.value),title:c(A.value)},null):void 0])}})}),ye({isFocused:b,isPristine:g,menu:i,search:v,filteredItems:O,select:B},d)}}),Ct=Y({text:String,...de(),...me()},"VToolbarTitle"),wt=Z()({name:"VToolbarTitle",props:Ct(),setup(e,r){let{slots:t}=r;return ee(()=>{const c=!!(t.default||t.text||e.text);return l(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var d;return[c&&l("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(d=t.default)==null?void 0:d.call(t)])]}})}),{}}}),Tt=[null,"prominent","default","comfortable","compact"],Pt=Y({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Tt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...qe(),...de(),...ze(),...fe(),...me({tag:"header"}),...ge()},"VToolbar"),Ot=Z()({name:"VToolbar",props:Pt(),setup(e,r){var R;let{slots:t}=r;const{backgroundColorClasses:c,backgroundColorStyles:d}=Xe(je(e,"color")),{borderClasses:b}=Je(e),{elevationClasses:g}=Qe(e),{roundedClasses:C}=be(e),{themeClasses:T}=he(e),{rtlClasses:I}=Ye(),V=D(!!(e.extended||(R=t.extension)!=null&&R.call(t))),i=w(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),o=w(()=>V.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ze({VBtn:{variant:"text"}}),ee(()=>{var p;const A=!!(e.title||t.title),P=!!(t.image||e.image),F=(p=t.extension)==null?void 0:p.call(t);return V.value=!!(e.extended||F),l(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},c.value,b.value,g.value,C.value,T.value,I.value,e.class],style:[d.value,e.style]},{default:()=>[P&&l("div",{key:"image",class:"v-toolbar__image"},[t.image?l($,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):l(bt,{key:"image-img",cover:!0,src:e.image},null)]),l($,{defaults:{VTabs:{height:j(i.value)}}},{default:()=>{var L,E,v;return[l("div",{class:"v-toolbar__content",style:{height:j(i.value)}},[t.prepend&&l("div",{class:"v-toolbar__prepend"},[(L=t.prepend)==null?void 0:L.call(t)]),A&&l(wt,{key:"title",text:e.title},{text:t.title}),(E=t.default)==null?void 0:E.call(t),t.append&&l("div",{class:"v-toolbar__append"},[(v=t.append)==null?void 0:v.call(t)])])]}}),l($,{defaults:{VTabs:{height:j(o.value)}}},{default:()=>[l(yt,null,{default:()=>[V.value&&l("div",{class:"v-toolbar__extension",style:{height:j(o.value)}},[F])]})]})]})}),{contentHeight:i,extensionHeight:o}}});function pt(e){const r=D(e);let t=-1;function c(){clearInterval(t)}function d(){c(),le(()=>r.value=e)}function b(g){const C=g?getComputedStyle(g):{transitionDuration:.2},T=parseFloat(C.transitionDuration)*1e3||200;if(c(),r.value<=0)return;const I=performance.now();t=window.setInterval(()=>{const V=performance.now()-I+T;r.value=Math.max(e-V,0),r.value<=0&&c()},T)}return it(c),{clear:c,time:r,start:b,reset:d}}const _t=Y({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...et({location:"bottom"}),...tt(),...fe(),...at(),...ge(),...ve(Vt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Ut=Z()({name:"VSnackbar",props:_t(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:t}=r;const c=J(e,"modelValue"),{locationStyles:d}=lt(e),{positionClasses:b}=nt(e),{scopeId:g}=kt(),{themeClasses:C}=he(e),{colorClasses:T,colorStyles:I,variantClasses:V}=ot(e),{roundedClasses:i}=be(e),o=pt(Number(e.timeout)),R=U(),A=U(),P=D(!1);W(c,p),W(()=>e.timeout,p),ut(()=>{c.value&&p()});let F=-1;function p(){o.reset(),window.clearTimeout(F);const n=Number(e.timeout);if(!c.value||n===-1)return;const K=st(A.value);o.start(K),F=window.setTimeout(()=>{c.value=!1},n)}function L(){o.reset(),window.clearTimeout(F)}function E(){P.value=!0,L()}function v(){P.value=!1,p()}return ee(()=>{const n=ce.filterProps(e),K=!!(t.default||t.text||e.text);return l(ce,H({ref:R,class:["v-snackbar",{"v-snackbar--active":c.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},b.value,e.class],style:e.style},n,{modelValue:c.value,"onUpdate:modelValue":k=>c.value=k,contentProps:H({class:["v-snackbar__wrapper",C.value,T.value,i.value,V.value],style:[d.value,I.value],onPointerenter:E,onPointerleave:v},n.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},g),{default:()=>{var k,O;return[rt(!1,"v-snackbar"),e.timer&&l("div",{key:"timer",class:"v-snackbar__timer"},[l(ct,{ref:A,active:!P.value,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":o.time.value},null)]),K&&l("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((k=t.text)==null?void 0:k.call(t))??e.text,(O=t.default)==null?void 0:O.call(t)]),t.actions&&l($,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[l("div",{class:"v-snackbar__actions"},[t.actions()])]})]},activator:t.activator})}),ye({},R)}});export{Ut as V,Et as a,Ot as b,wt as c};
