import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as u,V as m}from"./VCard-BP6mQR4Q.js";import{a as b,V as D}from"./VDialog-DbL5-Iim.js";import{V as w,a as k}from"./VDataTable-_vW1TeBv.js";import{V as y,a as r}from"./VRow-BZgZDGuK.js";import{V as $}from"./VTextField-CDhod4HM.js";import{V as T}from"./VAutocomplete-zNg_0aLZ.js";import{e as C,w as a,o as f,b as t,a as p,t as o,a3 as g,c as N,W as d,U as I,V as c,B as V,l as H}from"./main-C_Te8aZH.js";import{V as z,a as U,b as A,c as R}from"./VToolbarItems-CLnXA_e4.js";import{V as S}from"./VSpacer-DtQJVvy9.js";import{V as F}from"./VForm-P90W-HiT.js";import"./VAvatar-3pXkIHTf.js";import"./VImg-CcznBU0J.js";/* empty css              */import"./VOverlay-CNcpFCPJ.js";import"./easing-DY7PVvcf.js";import"./lazy-Se7h04Ci.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-9vjn5KEf.js";import"./index-D7wZTw18.js";import"./ssrBoot-BccHZXhj.js";import"./VDivider-ByZzaXTt.js";import"./VTable-BTPIonOZ.js";function L(){return"funciones"}const M={data:e=>({dessertName:"",valid:!0,title:L(),route:"funciones",dialog:!1,snackbar:!1,visible:!0,text:"Registro Insertado",color:"success",timeout:4e3,search:"",vista:!1,headers:[{title:"Id",align:"start",sortable:!1,key:"id"},{title:"Detalle",filterable:!0,key:"detalle"},{title:"Creado por",key:"created_by"},{title:"Modificado por",key:"last_modified_by"},{title:"Fecha Creacion",key:"created_at"},{title:"Fecha Actualizacion",key:"updated_at"},{title:"Estado",key:"activo"},{title:"Acciones",key:"actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{name:"",id:""},defaultItem:{nombre:"",id:""},filters:{id:"",name:"",address:"",created_at:"",updated_at:""},filterKey:[],selectedHeaders:[]}),computed:{formTitle(){return this.editedIndex===-1?"Registrar "+this.title:"Editar "+this.title},filteredData(){return this.$filteredData().data!==void 0?this.$filteredData().data:this.$filteredData()},showHeaders(){return this.headers.filter(e=>this.selectedHeaders.includes(e))},filteredDesserts(){let e=[];return this.dessertName&&e.push(this.filterDessertName),e.length>0?this.desserts.filter(s=>e.every(v=>v(s))):this.desserts}},watch:{dialog(e){e||this.$close()}},created(){this.$initialize(),this.selectedHeaders=this.headers},methods:{filterDessertName(e){return e.name.toLowerCase().includes(this.dessertName.toLowerCase())},filterByNombre(e){return this.$filterBy(e,"nombre")},filterByActivo(e){return this.$filterBy(e,"activo")}},mounted(){console.log("Componente "+this.title+" creado")}},E={key:1,class:"grey--text caption"},q={class:"d-flex gap-1"},j=["innerHTML"];function G(e,s,v,K,P,n){const h=H("IconBtn");return f(),C(u,{title:"AdministraciÃ³n de "+e.title},{default:a(()=>[t(m,{class:"d-flex"},{default:a(()=>[t(b,{id:"crud",fluid:"",tag:"section"},{default:a(()=>[t(w,{headers:n.showHeaders,items:n.filteredDesserts,search:e.search,class:"text-no-wrap"},{top:a(()=>[t(u,{flat:"",color:"white"},{default:a(()=>[t(m,null,{default:a(()=>[t(y,null,{default:a(()=>[t(r,{sm:"6",class:"pl-0 pt-20 py-2"},{default:a(()=>[t($,{modelValue:e.search,"onUpdate:modelValue":s[0]||(s[0]=l=>e.search=l),"append-icon":"ri-search-line",label:"Busqueda de "+e.title},null,8,["modelValue","label"])]),_:1}),t(r,{sm:"2"}),t(r,{class:"pt-20 py-2",sm:"3"},{default:a(()=>[t(T,{modelValue:e.selectedHeaders,"onUpdate:modelValue":s[1]||(s[1]=l=>e.selectedHeaders=l),items:e.headers,label:"Columnas Visibles",multiple:"","return-object":""},{selection:a(({item:l,index:i})=>[i<2?(f(),C(k,{key:0},{default:a(()=>[p("span",null,o(l.title),1)]),_:2},1024)):g("",!0),i===2?(f(),N("span",E,"(otras "+o(e.selectedHeaders.length-2)+"+)",1)):g("",!0)]),_:1},8,["modelValue","items"])]),_:1}),t(r,{sm:"1",class:"pt-20 py-2"},{default:a(()=>[t(D,{modelValue:e.dialog,"onUpdate:modelValue":s[6]||(s[6]=l=>e.dialog=l),"max-width":"50%"},{activator:a(({props:l})=>[t(d,I(l,{color:e.$cv("principal"),size:"x-large",title:"Registrar "+e.title}),{default:a(()=>[t(c,{size:"large",icon:"ri-add-circle-line"})]),_:2},1040,["color","title"])]),default:a(()=>[t(u,null,{default:a(()=>[t(z,{color:e.$cv("principal")},{default:a(()=>[t(d,{icon:"ri-close-line",color:"white",onClick:s[2]||(s[2]=l=>e.dialog=!1)}),t(U,null,{default:a(()=>[V(o(n.formTitle),1)]),_:1}),t(S),t(A,null,{default:a(()=>[t(d,{text:"Guardar",onClick:s[3]||(s[3]=l=>e.$save()),variant:"text"})]),_:1})]),_:1},8,["color"]),t(F,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":s[5]||(s[5]=l=>e.valid=l),"lazy-validation":""},{default:a(()=>[t(m,null,{default:a(()=>[t(b,null,{default:a(()=>[t(y,null,{default:a(()=>[t(r,{cols:"12",md:"12",sm:"12"},{default:a(()=>[t($,{modelValue:e.editedItem.detalle,"onUpdate:modelValue":s[4]||(s[4]=l=>e.editedItem.detalle=l),label:"Detalle",disabled:e.vista,rules:[e.$rulesRequerido,e.$rulesAlfaNum,e.$rulesMax500]},null,8,["modelValue","disabled","rules"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),"item.activo":a(({item:l})=>[t(k,{color:e.$resolveStatusVariant(l.activo).color,density:"comfortable"},{default:a(()=>[V(o(e.$resolveStatusVariant(l.activo).text),1)]),_:2},1032,["color"])]),"item.actions":a(({item:l})=>[p("div",q,[t(h,{size:"small",onClick:i=>{e.vista=!1,e.$editItem(l.id)}},{default:a(()=>[t(c,{icon:"ri-pencil-line"})]),_:2},1032,["onClick"]),t(h,{size:"small",onClick:i=>{e.vista=!1,e.$deleteItem(l.id,l.detalle)}},{default:a(()=>[t(c,{icon:"ri-delete-bin-line"})]),_:2},1032,["onClick"])])]),_:1},8,["headers","items","search"]),t(R,{modelValue:e.snackbar,"onUpdate:modelValue":s[8]||(s[8]=l=>e.snackbar=l),bottom:!0,color:e.color,timeout:e.timeout},{action:a(({attrs:l})=>[t(d,I({dark:"",text:""},l,{onClick:s[7]||(s[7]=i=>e.snackbar=!1)}),{default:a(()=>[V(" Cerrar ")]),_:2},1040)]),default:a(()=>[p("div",{innerHTML:e.text},null,8,j)]),_:1},8,["modelValue","color","timeout"])]),_:1})]),_:1})]),_:1},8,["title"])}const ce=B(M,[["render",G]]);export{ce as default};
