import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as u,V as f,d as I}from"./VCard-DydCA3ij.js";import{V as B}from"./VDataTable-DdcjOapO.js";import{a as b,V as o}from"./VRow-C4xKDsdp.js";import{V as C}from"./VTextField-BFwWA4c4.js";import{V as D}from"./VAutocomplete-C00TsAO4.js";import{e as k}from"./VChip-Bpi0D_nl.js";import{V as H}from"./VDialog-CElxPYVm.js";import{e as g,w as a,v as N,o as p,b as t,a as c,t as n,l as $,c as T,a3 as s,a0 as y,V,H as d}from"./main-CXbVQelV.js";import{a as U,b as A,V as z}from"./VSnackbar-DElA1Bai.js";import{V as S}from"./VForm-qHysTZf4.js";import{V as E}from"./VContainer-cJ1Wwdkk.js";import{V as L}from"./VSpacer-D4ygEDCf.js";import{V as M}from"./VSwitch-CynYSGAY.js";import"./VAvatar-D60b_pC1.js";import"./VImg-CCDcZEHq.js";import"./VSelect-D6y5jHko.js";import"./forwardRefs-C-GTDzx5.js";import"./VOverlay-CKsM211p.js";import"./easing-DY7PVvcf.js";import"./lazy-hhV86JqJ.js";import"./VCheckboxBtn-BfelbD9T.js";import"./VTable-D39T5yJb.js";import"./VDivider-mlwkm9Dh.js";import"./index-DwmO_A2i.js";import"./ssrBoot-CddAT7tB.js";function R(){return"Marcas"}const q={data:e=>({dessertName:"",valid:!0,title:R(),route:"brands",dialog:!1,snackbar:!1,visible:!0,text:"Registro Insertado",color:"success",timeout:4e3,search:"",vista:!1,headers:[{title:"Acciones",key:"actions",value:"actions",sortable:!1,width:"150px"},{title:"Nombre",filterable:!0,key:"name"},{title:"Estado",key:"active",width:"150px"}],desserts:[],editedIndex:-1,editedItem:{id:"",name:"",active:1},defaultItem:{id:"",name:"",active:1},filters:{id:"",name:"",created_at:"",updated_at:""},filterKey:[],selectedHeaders:[]}),computed:{formTitle(){return this.editedIndex===-1?"Registrar "+this.title:"Editar "+this.title},filteredData(){return this.$filteredData().data!==void 0?this.$filteredData().data:this.$filteredData()},showHeaders(){return this.headers.filter(e=>this.selectedHeaders.includes(e))},filteredDesserts(){let e=[];return this.dessertName&&e.push(this.filterDessertName),e.length>0?this.desserts.filter(r=>e.every(v=>v(r))):this.desserts}},watch:{dialog(e){e||this.$close()}},created(){this.$initialize(),this.selectedHeaders=this.headers},mounted(){console.log("Componente "+this.title+" creado")},methods:{filterDessertName(e){return e.name.toLowerCase().includes(this.dessertName.toLowerCase())},filterByName(e){return this.$filterBy(e,"name")},filterByActive(e){return this.$filterBy(e,"active")}}},F={key:1,class:"grey--text caption"},j={class:"d-flex flex-wrap gap-1 align-center",style:{"min-width":"120px"}},G=["innerHTML"];function K(e,r,v,P,J,m){const h=N("IconBtn");return p(),g(u,{title:"AdministraciÃ³n de "+e.title},{default:a(()=>[t(f,{class:"d-flex px-2"},{default:a(()=>[t(B,{headers:m.showHeaders,items:m.filteredDesserts,search:e.search,class:"text-no-wrap striped-table"},{top:a(()=>[t(u,{flat:"",color:"white"},{default:a(()=>[t(f,null,{default:a(()=>[t(b,null,{default:a(()=>[t(o,{sm:"4",class:"pl-0 pt-20 py-2"},{default:a(()=>[t(C,{modelValue:e.search,"onUpdate:modelValue":r[0]||(r[0]=l=>e.search=l),"append-icon":"ri-search-line",label:"Busqueda de "+e.title},null,8,["modelValue","label"])]),_:1}),t(o,{sm:"3"}),t(o,{sm:"4",class:"pt-20 py-2"},{default:a(()=>[t(D,{modelValue:e.selectedHeaders,"onUpdate:modelValue":r[1]||(r[1]=l=>e.selectedHeaders=l),items:e.headers,label:"Columnas Visibles",multiple:"","return-object":""},{selection:a(({item:l,index:i})=>[i<2?(p(),g(k,{key:0},{default:a(()=>[c("span",null,n(l.title),1)]),_:2},1024)):$("",!0),i===2?(p(),T("span",F,"(otras "+n(e.selectedHeaders.length-2)+"+)",1)):$("",!0)]),_:1},8,["modelValue","items"])]),_:1}),t(o,{sm:"1",class:"pt-20 py-2"},{default:a(()=>[t(H,{modelValue:e.dialog,"onUpdate:modelValue":r[7]||(r[7]=l=>e.dialog=l),"max-width":"400px"},{activator:a(({props:l})=>[t(s,y(l,{color:e.$cv("principal"),size:"x-large",title:"Registrar "+e.title}),{default:a(()=>[t(V,{size:"large",icon:"ri-add-circle-line"})]),_:2},1040,["color","title"])]),default:a(()=>[t(u,null,{default:a(()=>[t(U,{color:e.$cv("principal")},{default:a(()=>[t(s,{icon:"ri-close-line",color:"white",onClick:r[2]||(r[2]=l=>e.dialog=!1)}),t(A,null,{default:a(()=>[d(n(m.formTitle),1)]),_:1})]),_:1},8,["color"]),t(S,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":r[4]||(r[4]=l=>e.valid=l),"lazy-validation":""},{default:a(()=>[t(f,null,{default:a(()=>[t(E,null,{default:a(()=>[t(b,null,{default:a(()=>[t(o,{cols:"12",sm:"12"},{default:a(()=>[t(C,{modelValue:e.editedItem.name,"onUpdate:modelValue":r[3]||(r[3]=l=>e.editedItem.name=l),label:"Marca",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,null,{default:a(()=>[t(L),t(s,{variant:"outlined",color:"primary",onClick:r[5]||(r[5]=l=>e.dialog=!1)},{default:a(()=>[d("Cancelar")]),_:1}),t(s,{class:"bg-primary",color:"white",onClick:r[6]||(r[6]=l=>e.$save())},{default:a(()=>[d("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),"item.active":a(({item:l})=>[t(k,{color:e.$resolveStatusVariant(l.active).color,density:"comfortable"},{default:a(()=>[d(n(e.$resolveStatusVariant(l.active).text),1)]),_:2},1032,["color"])]),"item.actions":a(({item:l})=>[c("div",j,[t(h,{size:"small",title:"Editar",onClick:i=>{e.vista=!1,e.$editItem(l.id)}},{default:a(()=>[t(V,{icon:"ri-pencil-line"})]),_:2},1032,["onClick"]),t(M,{modelValue:l.active,"onUpdate:modelValue":i=>l.active=i,"true-value":1,"false-value":0,color:"primary","hide-details":"",title:"Activar o Inactivar",onClick:i=>e.$toggleActive(l)},null,8,["modelValue","onUpdate:modelValue","onClick"]),t(h,{size:"small",title:"Eliminar",onClick:i=>{e.vista=!1,e.$deleteItem(l.id,l.name)}},{default:a(()=>[t(V,{icon:"ri-delete-bin-line"})]),_:2},1032,["onClick"])])]),_:1},8,["headers","items","search"]),t(z,{modelValue:e.snackbar,"onUpdate:modelValue":r[9]||(r[9]=l=>e.snackbar=l),bottom:!0,color:e.color,timeout:e.timeout},{action:a(({attrs:l})=>[t(s,y({dark:"",text:""},l,{onClick:r[8]||(r[8]=i=>e.snackbar=!1)}),{default:a(()=>[d(" Cerrar ")]),_:2},1040)]),default:a(()=>[c("div",{innerHTML:e.text},null,8,G)]),_:1},8,["modelValue","color","timeout"])]),_:1})]),_:1},8,["title"])}const be=w(q,[["render",K]]);export{be as default};
