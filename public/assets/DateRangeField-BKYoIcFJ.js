import{_ as c}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as m}from"./VTextField-C2daNm2f.js";import{V as u,a as V}from"./VRow-DH7aR9kf.js";import{ad as f,o as p,e as g,w as o,b as n,_ as h}from"./main-G7GggmvP.js";const D={name:"DateRangeField",props:{modelValue:{type:Object,default:()=>({start:null,end:null})},modelLabel:{type:String,default:()=>null}},data(){return{start:"",end:"",startError:"",endError:""}},watch:{start(e){this.validateStart(),this.emitIfValid()},end(e){this.validateEnd(),this.emitIfValid()}},methods:{reset(){this.start=null,this.end=null,this.startError=null,this.endError=null},isValidDate(e){if(!/^\d{2}\/\d{2}\/\d{4}$/.test(e))return!1;const[a,l,s]=e.split("/").map(Number),t=new Date(s,l-1,a);return t.getFullYear()===s&&t.getMonth()===l-1&&t.getDate()===a},validateStart(){this.start&&!this.isValidDate(this.start)?this.startError="Fecha inválida":this.startError=""},validateEnd(){this.end&&!this.isValidDate(this.end)?this.endError="Fecha inválida":this.endError=""},emitIfValid(){if(this.isValidDate(this.start)&&this.isValidDate(this.end)){const[e,a,l]=this.start.split("/"),[s,t,d]=this.end.split("/"),i=new Date(`${l}-${a}-${e}`),r=new Date(`${d}-${t}-${s}`);this.$emit("update:modelValue",{start:i,end:r})}else this.$emit("update:modelValue",{start:null,end:null})}},mounted(){if(this.modelValue.start instanceof Date){const e=this.modelValue.start;this.start=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`}if(this.modelValue.end instanceof Date){const e=this.modelValue.end;this.end=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`}}};function _(e,a,l,s,t,d){const i=f("mask");return p(),g(V,{dense:""},{default:o(()=>[n(u,{cols:"6"},{default:o(()=>[h(n(m,{modelValue:t.start,"onUpdate:modelValue":a[0]||(a[0]=r=>t.start=r),label:l.modelLabel?l.modelLabel+" desde":"Desde",placeholder:"dd/mm/yyyy","error-messages":t.startError,onBlur:d.validateStart,clearable:"",density:"compact"},null,8,["modelValue","label","error-messages","onBlur"]),[[i,"##/##/####"]])]),_:1}),n(u,{cols:"6"},{default:o(()=>[h(n(m,{modelValue:t.end,"onUpdate:modelValue":a[1]||(a[1]=r=>t.end=r),label:l.modelLabel?l.modelLabel+" hasta":"Hasta",placeholder:"dd/mm/yyyy","error-messages":t.endError,onBlur:d.validateEnd,clearable:"",density:"compact"},null,8,["modelValue","label","error-messages","onBlur"]),[[i,"##/##/####"]])]),_:1})]),_:1})}const S=c(D,[["render",_],["__scopeId","data-v-7b08107e"]]);export{S as _};
